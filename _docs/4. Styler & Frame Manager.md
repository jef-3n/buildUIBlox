# **Design Guidance: 4\. Styler & Frame Manager**

## **1\. Purpose**

The bridge between user-facing design controls and the underlying styler JSON schema. It manages responsive state transitions between Desktop and Mobile frames.

## **2\. Architecture & Data Consumption**

Consumes the **Styler Object** of the selected element and the **Frame Context**.

* **Context Subscription:** Subscribes to activeSelection.styler and ui.activeFrame.  
* **Data Structure:**  
  {  
    "activeFrame": "mobile | desktop",  
    "styler": { "padding": "10px", "grid-area": "header" }  
  }

## **3\. Events & Handlers**

| Event Type | Payload Schema | Handler Description |
| :---- | :---- | :---- |
| STYLER\_UPDATE\_PROP | { path: string, value: any } | Injects a new value into the selected element's JSON style object (e.g., color, margin). |
| STYLER\_SET\_FRAME | \`{ frame: 'mobile' | 'desktop' }\` |
| STYLER\_BIND\_DATA | { prop: string, dataPath: string } | Creates a binding between a visual style and a dynamic data path. |

## **4\. Architectural Rules**

1. **Atomic Updates:** Never overwrite the whole styler object; use deep-merge or specific path updates to prevent data loss in collaborative sessions.  
2. **Frame Isolation:** Changes made in "Mobile" frame must be keyed under a media-query property in the JSON schema.